<!doctype html>
<html class="no-js" lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>修改用户信息</title>
    <link rel="stylesheet" href="/static/css/responsive.dataTables.min.css">
    <link rel="stylesheet" href="/static/css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" href="/static/css/ihealth.style.min.css">
</head>
<body>

<div id="ihealth-layout" class="theme-tradewind">             
    <div class="main px-lg-4 px-md-4">      
        <div class="body d-flex py-lg-3 py-md-2">
            <div class="container-xxl">
                <div class="row align-items-center">
                    <div class="border-0 mb-4">
                        <div class="card-header py-3 no-bg bg-transparent d-flex align-items-center px-0 justify-content-between border-bottom flex-wrap">
                            <h3 class="fw-bold py-3 mb-0">修改用户信息</h3>
                        </div>
                    </div>
                </div> 
                <div class="tab-content">
                    <div class="tab-pane fade show active" id="grid-view">
                        <div class="row clearfix g-3">
                            <div class="col-lg-4">
                                <div class="card sticky-lg-top">
                                    <div class="card-header py-3 d-flex justify-content-between bg-transparent border-bottom-0">
                                        <h6 class="mb-0 fw-bold ">当前用户为： {{.user.Username}}</h6>
                                    </div>
                                    <div class="card-body">
                                            <div class="row g-3 mb-3">
                                            <form action="/admin/editSrc" method="POST" enctype="multipart/form-data">
                                            <div class="col-sm-12">
                                                <label for="fileimg" class="form-label">用户头像上传</label>
                                                <input type="File" class="form-control" name="src" id="src">
                                                <button type="submit" class="btn btn-primary mt-4" id="sub_btnS">提交</button>
                                            </div>
                                            </form>
                                            <form action="/admin/editUsername" method="post">
                                            <div class="col-sm-12">
                                                <label for="depone" class="form-label">用户名</label>
                                                <input type="text" class="form-control" name="username" id="username">
                                                <button type="submit" class="btn btn-primary mt-4" id="sub_btnU">提交</button>
                                            </div>
                                            </form>
                                            </div>
                                            
                                            <div class="row g-3 mb-3">
                                                <form action="/admin/editEmail" method="post">
                                                <div class="col-sm-12">
                                                    <label for="deptwo" class="form-label">邮箱</label>
                                                    <input type="email" class="form-control" name="email" id="email">
                                                    <button type="submit" class="btn btn-primary mt-4" id="sub_btnE">提交</button>
                                                </div>
                                                </form>
                                                <form action="/admin/editPassword" method="post">
                                                <div class="col-sm-12">
                                                    <label for="deptwophone" class="form-label">密码</label>
                                                    <input type="text" class="form-control" name="password" id="password">
                                                    <button type="submit" class="btn btn-primary mt-4" id="sub_btnP">提交</button>
                                                </div>
                                                </form>
                                            </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-8">
                                <div class="row row-cols-sm-1 row-cols-md-2 row-col-lg-3 row-cols-xl-2 row-cols-xxl-3">
                                    {{range .users}}
                                    <div class="col">
                                        <div class="card teacher-card mb-3 flex-column">
                                            <div class="card-body d-flex teacher-fulldeatil flex-column">
                                                <div class="profile-teacher text-center w220 mx-auto">
                                                    <a href="#">
                                                        <img src="{{.Src}}" alt="" class="avatar xl rounded-circle img-thumbnail shadow-sm">
                                                    </a>
                                                    
                                                    <div class="about-info d-flex align-items-center mt-3 justify-content-center flex-column">
                                                        <span class="text-muted small">用户ID：{{.Id}}</span>
                                                    </div>
                                                </div>
                                                <div class="teacher-info   w-100">
                                                    <h6 class="mb-0 mt-2  fw-bold d-block fs-6 text-center">{{.Username}}</h6>
                                                
                                                    <div class="row g-2 pt-2">
                                                    
                                                        <div class="col-xl-12">
                                                            <div class="d-flex align-items-center">
                                                                <i class="icofont-email"></i>
                                                                <span class="ms-2">{{.Email}}</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    {{end}}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>     
</div>
 
<script src="/static/script/libscripts.bundle.js"></script>
<script src="/static/script/dataTables.bundle.js"></script>
<script src="static/script/template.js"></script>
<script>

    $(document).ready(function() {
        $('#myProjectTable')
        .addClass( 'nowrap' )
        .dataTable( {
            responsive: true,
            columnDefs: [
                { targets: [-1, -3], className: 'dt-body-right' }
            ]
        });
        $('.deleterow').on('click',function(){
        var tablename = $(this).closest('table').DataTable();  
        tablename
                .row( $(this)
                .parents('tr') )
                .remove()
                .draw();

        } );
    });
</script>
</body>
</html>